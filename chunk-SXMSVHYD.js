import{a as be}from"./chunk-2625WBTU.js";import{a as _e}from"./chunk-JCKFSXJE.js";import{b as le,d as de,e as me,f as pe,g as ge,h as ue,i as he,p as xe,q as fe,r as ve,t as Ce}from"./chunk-RAVIJAHJ.js";import{a as ye}from"./chunk-HJXDVH5A.js";import{g as ae,h as se,k as ce}from"./chunk-M7342E5H.js";import{k as oe,l as re}from"./chunk-UR3PIVFL.js";import{$a as s,Ca as te,Cb as A,Db as z,L as Z,Ua as S,V as y,Va as M,W as b,Ya as G,Za as Y,_a as j,a as J,ab as a,bb as P,fb as R,ib as B,kb as f,oa as ee,ob as L,qa as h,qb as ne,rb as ie,sb as g,tb as q,ub as F,wa as N,wb as I,xb as E,yb as D}from"./chunk-2SFP4N2H.js";import{a as W,b as $,f as k}from"./chunk-EQDQRRRY.js";var Q=class m{generateReceipt(t,o,l,r,c,T,C){return k(this,null,function*(){let{jsPDF:n}=yield import("./chunk-22LLLM6U.js"),e=new n,u=e.internal.pageSize.getWidth(),d=e.internal.pageSize.getHeight(),p=20,i=p,_=this.generateOrderId(),H=new Date().toLocaleDateString("en-GB"),w=new Date().toLocaleTimeString("en-GB",{hour12:!1}),v=[35,121,84],x=[10,77,71],V=[34,121,84],U=[100,100,100];try{let X=yield(yield fetch("/images/picks.png")).blob(),ke=yield this.blobToBase64(X);e.addImage(ke,"PNG",u/2-25,i,50,20),i+=30}catch{console.warn("Logo not found, using text fallback"),e.setFontSize(20),e.setTextColor(v[0],v[1],v[2]),e.setFont("helvetica","bold"),e.text("PICKSOCARTS",u/2,i+10,{align:"center"}),i+=25}e.setFontSize(10),e.setTextColor(U[0],U[1],U[2]),e.setFont("helvetica","normal"),e.text("[Business Address]",u/2,i,{align:"center"}),e.text("TIN: [XXXXXXXXXX]",u/2,i+5,{align:"center"}),i+=15,e.setFontSize(16),e.setTextColor(x[0],x[1],x[2]),e.setFont("helvetica","bold"),e.text("TRANSACTION RECEIPT",u/2,i,{align:"center"}),i+=3,e.setDrawColor(v[0],v[1],v[2]),e.line(p,i,u-p,i),i+=10,e.setFontSize(10),e.setTextColor(0,0,0),e.setFont("helvetica","normal"),e.text(`Order ID: ${_}`,p,i),e.text(`Date: ${H}`,p,i+5),e.text(`Time: ${w}`,p,i+10),e.setTextColor(V[0],V[1],V[2]),e.setFont("helvetica","bold"),e.text("PAID",u-p,i,{align:"right"}),e.setTextColor(0,0,0),e.setFont("helvetica","normal"),i+=20,e.setFillColor(x[0],x[1],x[2]),e.setTextColor(255,255,255),e.rect(p,i,u-2*p,12,"F"),e.setFont("helvetica","bold"),e.text("MERCHANT INFORMATION",p+5,i+8),i+=15;let we=t[0]?.business_name||"Unknown Merchant",Pe=t[0]?.address||"Unknown Address";e.setTextColor(0,0,0),e.setFont("helvetica","normal"),e.text(we,p,i),i+=5,e.text(Pe,p,i),i+=15,e.setFont("helvetica","bold"),e.setTextColor(x[0],x[1],x[2]),e.text("ITEMS:",p,i),i+=7,e.setFillColor(v[0],v[1],v[2]),e.setTextColor(255,255,255),e.rect(p,i,u-2*p,8,"F"),e.text("Item",p+5,i+5),e.text("Qty",u-p-40,i+5),e.text("Amount",u-p-5,i+5,{align:"right"}),i+=10,e.setTextColor(0,0,0),t.forEach(O=>{let K=O.price*(O.cartQuantity||1),X=this.truncateText(e,O.name,u-2*p-60);e.text(X,p+5,i+5),e.text((O.cartQuantity||1).toString(),u-p-40,i+5),e.text(`\u20A6${K.toLocaleString()}`,u-p-5,i+5,{align:"right"}),i+=8,i>d-50&&(e.addPage(),i=p)}),i+=10,e.setFont("helvetica","bold"),e.setTextColor(x[0],x[1],x[2]),e.text("PAYMENT SUMMARY",p,i),i+=10;let Oe=[{label:"Subtotal:",amount:o},{label:"Delivery Fee:",amount:r},{label:"Service Fee:",amount:c}];e.setFont("helvetica","normal"),e.setTextColor(0,0,0),Oe.forEach(O=>{e.text(O.label,p,i),e.text(`\u20A6${O.amount.toLocaleString()}`,u-p-5,i,{align:"right"}),i+=6}),i+=3,e.setDrawColor(v[0],v[1],v[2]),e.line(p,i,u-p,i),i+=8,e.setFont("helvetica","bold"),e.setTextColor(x[0],x[1],x[2]),e.text("TOTAL PAID:",p,i),e.text(`\u20A6${l.toLocaleString()}`,u-p-5,i,{align:"right"}),i+=10,e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(`Payment Method: ${C()}`,p,i),i+=7,e.setTextColor(V[0],V[1],V[2]),e.setFont("helvetica","bold"),e.text("Status: PAID",p,i),i=d-20,e.setDrawColor(x[0],x[1],x[2]),e.line(p,i,u-p,i),i+=7,e.setFontSize(10),e.setTextColor(x[0],x[1],x[2]),e.text("Thank you for your patronage!",u/2,i,{align:"center"}),e.save(`receipt-${_}.pdf`)})}generateInvoice(t,o,l,r,c,T){return k(this,null,function*(){let{jsPDF:C}=yield import("./chunk-22LLLM6U.js"),n=new C,e=n.internal.pageSize.getWidth(),u=20,d=u,p=this.generateOrderId(),i=[35,121,84],_=[10,77,71];n.setFontSize(18),n.setTextColor(i[0],i[1],i[2]),n.setFont("helvetica","bold"),n.text("PICKSOCARTS - INVOICE",e/2,d,{align:"center"}),d+=15,n.setDrawColor(i[0],i[1],i[2]),n.line(u,d,e-u,d),d+=10,n.setFontSize(10),n.setTextColor(0,0,0),n.setFont("helvetica","normal"),[{label:"Invoice #:",value:p},{label:"Date:",value:new Date().toLocaleDateString("en-GB")},{label:"Time:",value:new Date().toLocaleTimeString("en-GB",{hour12:!1})}].forEach(w=>{n.text(`${w.label} ${w.value}`,u,d),d+=6}),d+=10,n.setFillColor(_[0],_[1],_[2]),n.setTextColor(255,255,255),n.rect(u,d,e-2*u,8,"F"),n.setFont("helvetica","bold"),n.text("BILL TO",u+5,d+5),d+=12,n.setTextColor(0,0,0),n.setFont("helvetica","normal"),n.text(`Name: ${t.name||"N/A"}`,u,d),d+=5,n.text(`Email: ${t.email||"N/A"}`,u,d),d+=5,n.text(`Phone: ${t.phone||"N/A"}`,u,d),d+=5,n.text(`Address: ${t.address||"N/A"}`,u,d),d+=15,n.setFillColor(i[0],i[1],i[2]),n.setTextColor(255,255,255),n.rect(u,d,e-2*u,10,"F"),n.text("Item",u+5,d+7),n.text("Qty",120,d+7),n.text("Price",150,d+7),n.text("Total",170,d+7),d+=12,n.setTextColor(0,0,0),o.forEach(w=>{let v=w.price*(w.cartQuantity||1);n.text(this.truncateText(n,w.name,80),u+5,d+7),n.text((w.cartQuantity||1).toString(),120,d+7),n.text(`\u20A6${w.price.toLocaleString()}`,150,d+7),n.text(`\u20A6${v.toLocaleString()}`,170,d+7),d+=10}),d+=10,n.text(`Subtotal: \u20A6${l.toLocaleString()}`,150,d),d+=7,n.text(`Delivery Fee: \u20A6${c.toLocaleString()}`,150,d),d+=7,n.text(`Service Fee: \u20A6${T.toLocaleString()}`,150,d),d+=10,n.setFontSize(14),n.setFont("helvetica","bold"),n.setTextColor(_[0],_[1],_[2]),n.text(`TOTAL: \u20A6${r.toLocaleString()}`,150,d),d+=20,n.setFontSize(10),n.setFont("helvetica","normal"),n.setTextColor(_[0],_[1],_[2]),n.text("Thank you for choosing PicksNCarts!",e/2,d,{align:"center"}),n.text("Save. Share. Sustain.",e/2,d+7,{align:"center"}),n.save(`invoice-${p}.pdf`)})}truncateText(t,o,l){let r=t.splitTextToSize(o,l);return Array.isArray(r)?r[0]:r}blobToBase64(t){return new Promise((o,l)=>{let r=new FileReader;r.onload=()=>{let c=r.result;o(c)},r.onerror=l,r.readAsDataURL(t)})}generateOrderId(){let t=new Date().getTime(),o=Math.floor(Math.random()*1e3);return`PCN-2025-${t.toString().slice(-5)}${o.toString().padStart(3,"0")}`}generateOrderSummary(t,o,l){return k(this,null,function*(){let{jsPDF:r}=yield import("./chunk-22LLLM6U.js"),c=new r,T=[35,121,84],C=[10,77,71];c.setFontSize(16),c.setTextColor(C[0],C[1],C[2]),c.setFont("helvetica","bold"),c.text("Order Summary",20,20),c.setFontSize(12),c.setTextColor(0,0,0),c.setFont("helvetica","normal"),c.text(`Order ID: ${this.generateOrderId()}`,20,40),c.text(`Customer: ${t.name}`,20,50),c.text(`Email: ${t.email}`,20,60),c.setFont("helvetica","bold"),c.setTextColor(C[0],C[1],C[2]),c.text(`Total: \u20A6${l.toLocaleString()}`,20,70);let n=90;c.text("Items:",20,n),n+=10,c.setFont("helvetica","normal"),c.setTextColor(0,0,0),o.forEach(e=>{c.text(`\u2022 ${e.name} x${e.cartQuantity||1}`,25,n),n+=7}),c.save("order-summary.pdf")})}static \u0275fac=function(o){return new(o||m)};static \u0275prov=Z({token:m,factory:m.\u0275fac,providedIn:"root"})};var Se=(m,t)=>t.id;function Ie(m,t){m&1&&(s(0,"div",6)(1,"div",12),P(2,"img",13),a(),s(3,"div",14),g(4,"Processing your order..."),a()())}function Ee(m,t){if(m&1){let o=R();s(0,"div",7)(1,"div",15)(2,"div",16)(3,"h2"),g(4,"Order Successful! \u{1F389}"),a(),s(5,"p"),g(6,"Your order has been placed successfully"),a()(),s(7,"div",17)(8,"button",18),B("click",function(){y(o);let r=f();return b(r.downloadReceipt())}),P(9,"i",19),g(10," Download Receipt "),a(),s(11,"button",20),B("click",function(){y(o);let r=f();return b(r.continueShopping())}),P(12,"i",21),g(13," Continue Shopping "),a()()()()}}function De(m,t){m&1&&(s(0,"div",10)(1,"div",22),P(2,"i",23),a(),s(3,"h2"),g(4,"Your cart is empty"),a(),s(5,"p"),g(6,"Add some delicious food surprises to get started!"),a(),s(7,"a",24),P(8,"i",25),g(9," Start Shopping "),a()())}function Le(m,t){m&1&&(s(0,"div",33),g(1,"Full name is required"),a())}function Ae(m,t){m&1&&(s(0,"div",33),g(1,"Valid email is required"),a())}function ze(m,t){m&1&&(s(0,"div",33),g(1,"Valid 11-digit phone number is required"),a())}function Ve(m,t){m&1&&(s(0,"div",33),g(1,"City is required"),a())}function Ne(m,t){m&1&&(s(0,"div",33),g(1,"Delivery address is required"),a())}function Re(m,t){if(m&1){let o=R();s(0,"div",54)(1,"label")(2,"input",55),D("ngModelChange",function(r){y(o);let c=f(2);return E(c.selectedPaymentMethod,r)||(c.selectedPaymentMethod=r),b(r)}),a(),s(3,"div",56),P(4,"i"),s(5,"span"),g(6),a()()()()}if(m&2){let o=t.$implicit,l=f(2);ne("selected",l.selectedPaymentMethod===o.id),h(2),j("value",o.id),I("ngModel",l.selectedPaymentMethod),h(2),ie(o.icon),h(2),q(o.name)}}function Be(m,t){m&1&&(P(0,"i",57),g(1," Processing... "))}function We(m,t){if(m&1&&(P(0,"i",58),g(1),A(2,"number")),m&2){let o=f(2);h(),F(" Place Order - \u20A6",z(2,1,o.total)," ")}}function $e(m,t){if(m&1){let o=R();s(0,"div",49)(1,"div",59)(2,"img",60),B("error",function(r){let c=y(o).$implicit,T=f(2);return b(T.onImageError(r,c))}),a()(),s(3,"div",61)(4,"h3",62),g(5),a(),s(6,"p",63),g(7),a(),s(8,"div",64)(9,"span",65),g(10),A(11,"number"),a()()()()}if(m&2){let o=t.$implicit,l=f(2);h(2),j("src",l.getProductImage(o),ee)("alt",o.name),h(3),q(o.name),h(2),q(o.business_name||"Unknown Merchant"),h(3),F("\u20A6",z(11,5,o.price))}}function je(m,t){if(m&1){let o=R();s(0,"div",11)(1,"div",26)(2,"h2",27),g(3,"Delivery Information"),a(),s(4,"form",28,0),B("ngSubmit",function(){y(o);let r=f();return b(r.placeOrder())}),s(6,"div",29)(7,"div",30)(8,"label",31),g(9,"Full Name *"),a(),s(10,"input",32,1),D("ngModelChange",function(r){y(o);let c=f();return E(c.order.name,r)||(c.order.name=r),b(r)}),a(),S(12,Le,2,0,"div",33),a(),s(13,"div",30)(14,"label",34),g(15,"Email *"),a(),s(16,"input",35,2),D("ngModelChange",function(r){y(o);let c=f();return E(c.order.email,r)||(c.order.email=r),b(r)}),a(),S(18,Ae,2,0,"div",33),a()(),s(19,"div",29)(20,"div",30)(21,"label",36),g(22,"Phone Number *"),a(),s(23,"input",37,3),D("ngModelChange",function(r){y(o);let c=f();return E(c.order.phone,r)||(c.order.phone=r),b(r)}),a(),S(25,ze,2,0,"div",33),a(),s(26,"div",30)(27,"label",38),g(28,"City *"),a(),s(29,"input",39,4),D("ngModelChange",function(r){y(o);let c=f();return E(c.order.city,r)||(c.order.city=r),b(r)}),a(),S(31,Ve,2,0,"div",33),a()(),s(32,"div",30)(33,"label",40),g(34,"Delivery Address *"),a(),s(35,"textarea",41,5),D("ngModelChange",function(r){y(o);let c=f();return E(c.order.address,r)||(c.order.address=r),b(r)}),a(),S(37,Ne,2,0,"div",33),a(),s(38,"div",30)(39,"label",42),g(40,"Delivery Instructions (Optional)"),a(),s(41,"textarea",43),D("ngModelChange",function(r){y(o);let c=f();return E(c.order.instructions,r)||(c.order.instructions=r),b(r)}),a()(),s(42,"h2",27),g(43,"Payment Method"),a(),s(44,"div",44),G(45,Re,7,7,"div",45,Se),a(),s(47,"button",46),S(48,Be,2,0)(49,We,3,3),a()()(),s(50,"div",47)(51,"h2",27),g(52,"Order Summary"),a(),s(53,"div",48),G(54,$e,12,7,"div",49,Se),a(),s(56,"div",50)(57,"div",51)(58,"span"),g(59),a(),s(60,"span"),g(61),A(62,"number"),a()(),s(63,"div",51)(64,"span"),g(65,"Delivery Fee"),a(),s(66,"span"),g(67),A(68,"number"),a()(),s(69,"div",51)(70,"span"),g(71,"Service Fee"),a(),s(72,"span"),g(73),A(74,"number"),a()(),s(75,"div",52)(76,"span"),g(77,"Total"),a(),s(78,"span",53),g(79),A(80,"number"),a()()()()()}if(m&2){let o=L(5),l=L(11),r=L(17),c=L(24),T=L(30),C=L(36),n=f();h(10),I("ngModel",n.order.name),h(2),M(l.invalid&&l.touched?12:-1),h(4),I("ngModel",n.order.email),h(2),M(r.invalid&&r.touched?18:-1),h(5),I("ngModel",n.order.phone),h(2),M(c.invalid&&c.touched?25:-1),h(4),I("ngModel",n.order.city),h(2),M(T.invalid&&T.touched?31:-1),h(4),I("ngModel",n.order.address),h(2),M(C.invalid&&C.touched?37:-1),h(4),I("ngModel",n.order.instructions),h(4),Y(n.paymentMethods),h(2),j("disabled",n.cartItems.length===0||o.invalid||n.isLoading),h(),M(n.isLoading?48:49),h(6),Y(n.cartItems),h(5),F("Subtotal (",n.getTotalItems()," items)"),h(2),F("\u20A6",z(62,18,n.subtotal)),h(6),F("\u20A6",z(68,20,n.deliveryFee)),h(6),F("\u20A6",z(74,22,n.serviceFee)),h(6),F("\u20A6",z(80,24,n.total))}}var Me=class m{constructor(t,o,l,r){this.cartService=t;this.pdfService=o;this.toastService=l;this.router=r}cartItems=[];subtotal=0;total=0;deliveryFee=500;serviceFee=50;isLoading=!1;showReceipt=!1;paymentMethods=[{id:"card",name:"Credit/Debit Card",icon:"fas fa-credit-card"},{id:"paypal",name:"PayPal",icon:"fab fa-paypal"},{id:"bank",name:"Bank Transfer",icon:"fas fa-university"}];selectedPaymentMethod="card";order={name:"",email:"",phone:"",address:"",city:"",instructions:""};subs=new J;ngOnInit(){this.refresh(),this.subs.add(this.cartService.cartTotal$.subscribe(t=>{this.refresh()})),this.subs.add(this.cartService.cartCount$.subscribe(()=>{this.refresh()})),this.subs.add(this.cartService.stockLimit$.subscribe(t=>{t&&(this.toastService.warning(t.message,3e3),this.refresh())}))}refresh(){this.cartItems=this.cartService.getCartItems(),this.calculateTotals()}calculateTotals(){this.subtotal=this.cartService.getSubtotal(),this.total=this.subtotal+this.deliveryFee+this.serviceFee}getTotalItems(){return this.cartItems.reduce((t,o)=>t+(o.cartQuantity||1),0)}increaseQuantity(t){let o=this.cartItems.find(l=>l.id===t);if(o){let l=this.cartService.updateQuantity(t,(o.cartQuantity||1)+1);!l.success&&l.message&&this.toastService.warning(l.message,3e3)}}decreaseQuantity(t){let o=this.cartItems.find(l=>l.id===t);if(o){let l=this.cartService.updateQuantity(t,(o.cartQuantity||1)-1);!l.success&&l.message&&this.toastService.warning(l.message,3e3)}}removeItem(t){this.cartService.removeFromCart(t),this.toastService.info("Item removed from cart",2e3)}placeOrder(){return k(this,null,function*(){if(this.cartItems.length===0){this.toastService.error("Your cart is empty",3e3);return}this.isLoading=!0;try{yield new Promise(o=>setTimeout(o,3e3));let t=$(W({},this.order),{items:this.cartItems,total:this.total,subtotal:this.subtotal,deliveryFee:this.deliveryFee,serviceFee:this.serviceFee,paymentMethod:this.selectedPaymentMethod,date:new Date().toLocaleDateString("en-GB"),time:new Date().toLocaleTimeString("en-GB",{hour12:!1})});console.log("Order placed:",t),this.cartService.clearCart(),this.isLoading=!1,this.showReceipt=!0,this.toastService.success("Order placed successfully!",3e3)}catch{this.isLoading=!1,this.toastService.error("Failed to place order. Please try again.",3e3)}})}downloadReceipt(){return k(this,null,function*(){try{yield this.pdfService.generateReceipt(this.cartItems,this.subtotal,this.total,this.deliveryFee,this.serviceFee,this.selectedPaymentMethod,()=>this.getPaymentMethodName()),this.toastService.success("Receipt downloaded successfully!",2e3)}catch(t){console.error("Error generating receipt:",t),this.toastService.error("Failed to download receipt. Please try again.",3e3)}})}downloadInvoice(){return k(this,null,function*(){try{let t=$(W({},this.order),{paymentMethod:this.selectedPaymentMethod});yield this.pdfService.generateInvoice(t,this.cartItems,this.subtotal,this.total,this.deliveryFee,this.serviceFee),this.toastService.success("Invoice downloaded successfully!",2e3)}catch(t){console.error("Error generating invoice:",t),this.toastService.error("Failed to download invoice. Please try again.",3e3)}})}downloadOrderSummary(){return k(this,null,function*(){try{let t=$(W({},this.order),{paymentMethod:this.selectedPaymentMethod});yield this.pdfService.generateOrderSummary(t,this.cartItems,this.total),this.toastService.success("Order summary downloaded!",2e3)}catch(t){console.error("Error generating order summary:",t),this.toastService.error("Failed to download order summary.",3e3)}})}continueShopping(){this.showReceipt=!1,this.router.navigate(["/home"])}getPaymentMethodName(){let t=this.paymentMethods.find(o=>o.id===this.selectedPaymentMethod);return t?t.name:"Unknown"}getProductImage(t){return t.image||(Array.isArray(t.product_images)?t.product_images[0]:t.product_images)||"assets/images/placeholder.jpg"}onImageError(t,o){let l=t.target;l.src="assets/images/placeholder.jpg"}ngOnDestroy(){this.subs.unsubscribe()}static \u0275fac=function(o){return new(o||m)(N(be),N(Q),N(_e),N(ae))};static \u0275cmp=te({type:m,selectors:[["app-checkout"]],decls:7,vars:4,consts:[["checkoutForm","ngForm"],["name","ngModel"],["email","ngModel"],["phone","ngModel"],["city","ngModel"],["address","ngModel"],[1,"loading-overlay"],[1,"receipt-overlay"],[1,"main-content"],[1,"container"],[1,"empty-cart"],[1,"checkout-content"],[1,"logo-beat"],["src","/images/picksncarts.png","alt","PicksNCarts Logo"],[1,"loading-text"],[1,"receipt-modal"],[1,"receipt-header"],[1,"receipt-actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-download"],[1,"btn","btn-outline",3,"click"],[1,"fas","fa-shopping-bag"],[1,"empty-icon"],[1,"fas","fa-shopping-cart"],["routerLink","/home",1,"btn","btn-primary"],[1,"fas","fa-utensils"],[1,"checkout-form"],[1,"section-title"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModelChange","ngModel"],[1,"error-message"],["for","email"],["type","email","id","email","name","email","required","","email","",3,"ngModelChange","ngModel"],["for","phone"],["type","tel","id","phone","name","phone","required","","pattern","[0-9]{11}",3,"ngModelChange","ngModel"],["for","city"],["type","text","id","city","name","city","required","",3,"ngModelChange","ngModel"],["for","address"],["id","address","name","address","rows","3","required","",3,"ngModelChange","ngModel"],["for","instructions"],["id","instructions","name","instructions","rows","2","placeholder","e.g., Leave at front door, Call before delivery...",3,"ngModelChange","ngModel"],[1,"payment-methods"],[1,"payment-method",3,"selected"],["type","submit",1,"place-order-btn","btn-primary",3,"disabled"],[1,"order-summary"],[1,"order-items"],[1,"order-item"],[1,"price-breakdown"],[1,"price-row"],[1,"price-total"],[1,"total-amount"],[1,"payment-method"],["type","radio","name","paymentMethod","required","",3,"ngModelChange","value","ngModel"],[1,"method-content"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-lock"],[1,"item-image"],[3,"error","src","alt"],[1,"item-details"],[1,"item-name"],[1,"item-store"],[1,"item-meta"],[1,"item-price"]],template:function(o,l){o&1&&(S(0,Ie,5,0,"div",6),S(1,Ee,14,0,"div",7),s(2,"div",8)(3,"div",9),S(4,De,10,0,"div",10),S(5,je,81,26,"div",11),a()(),P(6,"app-footer")),o&2&&(M(l.isLoading?0:-1),h(),M(l.showReceipt?1:-1),h(3),M(l.cartItems.length===0&&!l.isLoading?4:-1),h(),M(l.cartItems.length>0?5:-1))},dependencies:[re,Ce,ue,le,he,de,me,xe,ve,fe,ge,pe,ce,se,ye,oe],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffffff2;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.logo-beat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_beat 1.5s ease-in-out infinite;margin-bottom:20px}.logo-beat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%}.loading-text[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--primary);font-weight:600}@keyframes _ngcontent-%COMP%_beat{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.receipt-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;padding:20px}.receipt-modal[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:var(--radius);box-shadow:var(--shadow-lg);text-align:center;max-width:400px;width:100%}.receipt-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary);margin-bottom:10px}.receipt-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-color);margin-bottom:25px}.receipt-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--dark);margin-bottom:30px;text-align:center}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);margin-top:40px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;color:var(--primary);margin-bottom:20px;opacity:.7}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--dark);margin-bottom:10px}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin-bottom:30px}.checkout-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.checkout-form[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:var(--radius);box-shadow:var(--shadow);order:2}.section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:var(--dark);margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid var(--border)}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:15px}.form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:var(--dark);font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:1px solid var(--border);border-radius:var(--radius);font-size:.9rem;transition:var(--transition);background:var(--light);font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#fff;box-shadow:0 0 0 3px #1a5d541a}.error-message[_ngcontent-%COMP%]{color:var(--danger);font-size:.8rem;margin-top:5px;display:block}.payment-methods[_ngcontent-%COMP%]{display:grid;gap:10px;margin-bottom:30px}.payment-method[_ngcontent-%COMP%]{border:2px solid var(--border);border-radius:var(--radius);transition:var(--transition);cursor:pointer}.payment-method.selected[_ngcontent-%COMP%]{border-color:var(--primary);background:var(--accent)}.payment-method[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;padding:15px;cursor:pointer;margin:0}.payment-method[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.method-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.method-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--primary);width:20px}.order-summary[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:var(--radius);box-shadow:var(--shadow);order:1}.order-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:25px;max-height:400px;overflow-y:auto}.order-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:15px;background:var(--light);border-radius:var(--radius);align-items:center}.item-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:var(--radius);overflow:hidden;flex-shrink:0;background:var(--border)}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.item-details[_ngcontent-%COMP%]{flex:1;min-width:0}.item-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;margin-bottom:4px;color:var(--dark);line-height:1.3}.item-store[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-color);margin-bottom:6px}.item-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.item-price[_ngcontent-%COMP%]{font-weight:700;color:var(--primary);font-size:.9rem}.item-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;border-radius:25px;padding:4px}.quantity-btn[_ngcontent-%COMP%]{background:var(--light);border:none;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);color:var(--dark);font-size:.7rem}.quantity-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary);color:#fff}.quantity-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.quantity[_ngcontent-%COMP%]{font-weight:600;min-width:20px;text-align:center;font-size:.8rem}.remove-btn[_ngcontent-%COMP%]{background:var(--danger);border:none;color:#fff;cursor:pointer;padding:6px;border-radius:50%;transition:var(--transition);font-size:.7rem;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.remove-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:scale(1.1)}.price-breakdown[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:20px}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;color:var(--gray-color);font-size:.9rem}.price-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px;padding-top:15px;border-top:1px solid var(--border);font-weight:700;font-size:1.1rem;color:var(--dark)}.total-amount[_ngcontent-%COMP%]{color:var(--primary)}.place-order-btn[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1.1rem;display:flex;align-items:center;justify-content:center;gap:10px;border:none;border-radius:var(--radius);cursor:pointer;transition:var(--transition);font-weight:600}.place-order-btn[_ngcontent-%COMP%]:disabled{background:var(--gray-color);cursor:not-allowed;opacity:.7}.place-order-btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}@media (min-width: 768px){.checkout-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 1fr;gap:40px}.checkout-form[_ngcontent-%COMP%]{order:1}.order-summary[_ngcontent-%COMP%]{order:2;position:sticky;top:100px;height:fit-content;align-self:start}.form-row[_ngcontent-%COMP%]{flex-direction:row}.order-items[_ngcontent-%COMP%]{max-height:300px}}@media (min-width: 1024px){.checkout-content[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr;gap:50px}}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:var(--radius);font-weight:600;text-decoration:none;cursor:pointer;transition:var(--transition);font-size:.9rem;text-align:center;justify-content:center}.btn-primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:var(--shadow)}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:var(--dark);border:2px solid var(--border)}.btn-outline[_ngcontent-%COMP%]:hover{border-color:var(--primary);color:var(--primary)}"]})};export{Me as Checkout};
