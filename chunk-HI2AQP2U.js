import{a as I}from"./chunk-EVM453XZ.js";import{a as j}from"./chunk-JCKFSXJE.js";import{g as S,h as w,k as E}from"./chunk-M7342E5H.js";import{l as k}from"./chunk-UR3PIVFL.js";import{$a as r,Ca as h,Ua as d,V as _,Va as m,W as b,Ya as u,Za as v,_a as x,ab as i,bb as o,fb as P,ib as M,kb as l,oa as C,qa as a,qb as O,rb as g,sb as s,tb as c,ub as y,wa as f}from"./chunk-2SFP4N2H.js";import"./chunk-EQDQRRRY.js";var T=(n,t)=>t.label;function F(n,t){if(n&1&&(r(0,"p",12),s(1),i()),n&2){let e=l(2);a(),y("Member since ",e.user.joinDate)}}function L(n,t){if(n&1&&(r(0,"div",2)(1,"div",5),o(2,"img",6),r(3,"button",7),o(4,"i",8),i()(),r(5,"div",9)(6,"h1",10),s(7),i(),r(8,"p",11),s(9),i(),d(10,F,2,1,"p",12),i(),r(11,"button",13),o(12,"i",14),s(13," Edit Profile "),i()()),n&2){let e=l();a(2),x("src",e.user.avatar,C),a(5),c(e.user.name),a(2),c(e.user.email),a(),m(e.user.joinDate?10:-1)}}function $(n,t){if(n&1&&(r(0,"div",15)(1,"div",16),o(2,"i"),i(),r(3,"div",17)(4,"div",18),s(5),i(),r(6,"div",19),s(7),i()()()),n&2){let e=t.$implicit;a(2),g("fas "+e.icon),a(3),c(e.value),a(2),c(e.label)}}function N(n,t){if(n&1&&(r(0,"div",3),u(1,$,8,4,"div",15,T),i()),n&2){let e=l();a(),v(e.stats)}}function R(n,t){if(n&1&&(r(0,"a",22)(1,"div",24),o(2,"i"),i(),r(3,"span",25),s(4),i(),o(5,"i",26),i()),n&2){let e=l().$implicit;x("routerLink",e.route),a(2),g("fas "+e.icon),a(2),c(e.label)}}function A(n,t){if(n&1){let e=P();r(0,"button",27),M("click",function(){_(e);let z=l().$implicit,U=l(2);return b(U.onMenuClick(z))}),r(1,"div",24),o(2,"i"),i(),r(3,"span",25),s(4),i(),o(5,"i",26),i()}if(n&2){let e=l().$implicit;a(2),g("fas "+e.icon),a(2),c(e.label)}}function V(n,t){if(n&1&&(r(0,"div",21),d(1,R,6,4,"a",22)(2,A,6,3,"button",23),i()),n&2){let e=t.$implicit;O("danger",e.danger),a(),m(e.route?1:2)}}function H(n,t){if(n&1&&(r(0,"div",4),u(1,V,3,3,"div",20,T),i()),n&2){let e=l();a(),v(e.menuItems)}}var D=class n{constructor(t,e,p){this.userService=t;this.router=e;this.toastService=p}user={name:"",email:"",phone:"",avatar:"",joinDate:"",address:""};stats=[{label:"Orders",value:"12",icon:"fa-shopping-bag"},{label:"Favourites",value:"8",icon:"fa-heart"},{label:"Savings",value:"\u20A645,200",icon:"fa-piggy-bank"}];menuItems=[{label:"Edit Profile",icon:"fa-user-edit",route:"/profile/edit"},{label:"Order History",icon:"fa-history",route:"/orders"},{label:"Payment Methods",icon:"fa-credit-card",route:"/payments"},{label:"Addresses",icon:"fa-map-marker-alt",route:"/addresses"},{label:"Notifications",icon:"fa-bell",route:"/notifications"},{label:"Help & Support",icon:"fa-headset",route:"/support"},{label:"About",icon:"fa-info-circle",route:"/about"},{label:"Logout",icon:"fa-sign-out-alt",route:null,danger:!0}];sub=null;ngOnInit(){this.sub=this.userService.user$.subscribe(e=>{e?this.user={name:e.fullName??e.email,email:e.email,phone:e.phone??"",avatar:e.avatar??"https://png.pngtree.com/png-clipart/20230927/original/pngtree-man-avatar-image-for-profile-png-image_13001877.png",joinDate:e.joinDate??"",address:e.address??""}:this.resetUser()});let t=this.userService.getCurrentUser();t&&(this.user={name:t.fullName??t.email,email:t.email,phone:t.phone??"",avatar:t.avatar??"assets/images/placeholder-avatar.png",joinDate:t.joinDate??"",address:t.address??""})}ngOnDestroy(){this.sub?.unsubscribe()}resetUser(){this.user={name:"",email:"",phone:"",avatar:"assets/images/placeholder-avatar.png",joinDate:"",address:""}}onMenuClick(t){if(!t.route){t.label.toLowerCase()==="logout"&&this.logout();return}this.router.navigate([t.route])}logout(){this.userService.logout();try{this.toastService?.success?.("Logged out successfully",2e3)}catch{}this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(f(I),f(S),f(j))};static \u0275cmp=h({type:n,selectors:[["app-profile"]],decls:5,vars:3,consts:[[1,"main-content"],[1,"container"],[1,"profile-header"],[1,"stats-grid"],[1,"profile-menu"],[1,"profile-avatar"],["alt","Profile Avatar",3,"src"],["aria-label","Edit avatar",1,"edit-avatar-btn"],[1,"fas","fa-camera"],[1,"profile-info"],[1,"profile-name"],[1,"profile-email"],[1,"profile-join-date"],["routerLink","/profile/edit",1,"edit-profile-btn"],[1,"fas","fa-edit"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"menu-item",3,"danger"],[1,"menu-item"],[1,"menu-link",3,"routerLink"],[1,"menu-link","btn-reset"],[1,"menu-icon"],[1,"menu-label"],[1,"fas","fa-chevron-right","menu-arrow"],[1,"menu-link","btn-reset",3,"click"]],template:function(e,p){e&1&&(r(0,"div",0)(1,"div",1),d(2,L,14,4,"div",2),d(3,N,3,0,"div",3),d(4,H,3,0,"div",4),i()()),e&2&&(a(2),m(p.user?2:-1),a(),m(p.stats.length?3:-1),a(),m(p.menuItems.length?4:-1))},dependencies:[k,E,w],styles:[".profile-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:30px 20px;background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;border-radius:var(--radius);margin-bottom:30px;position:relative}.profile-avatar[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border:4px solid rgba(255,255,255,.3)}.edit-avatar-btn[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:var(--primary);border:2px solid white;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;transition:var(--transition)}.edit-avatar-btn[_ngcontent-%COMP%]:hover{background:var(--primary-dark);transform:scale(1.1)}.profile-info[_ngcontent-%COMP%]{margin-bottom:20px}.profile-name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px}.profile-email[_ngcontent-%COMP%]{opacity:.9;margin-bottom:5px}.profile-join-date[_ngcontent-%COMP%]{opacity:.7;font-size:.9rem}.edit-profile-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.5);color:#fff;padding:8px 16px;border-radius:20px;font-weight:600;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:8px}.edit-profile-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:var(--radius);box-shadow:var(--shadow);display:flex;align-items:center;gap:15px;transition:var(--transition)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg)}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:var(--primary);font-size:1.2rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--dark);margin-bottom:5px}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-color)}.profile-menu[_ngcontent-%COMP%]{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}.menu-item[_ngcontent-%COMP%]{border-bottom:1px solid var(--border)}.menu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn-reset[_ngcontent-%COMP%]{background:none;border:none;padding:0;width:100%;text-align:left;display:flex;align-items:center;gap:12px;cursor:pointer}.menu-item.danger[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%], .menu-item.danger[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{color:var(--danger)}.menu-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;text-decoration:none;color:var(--dark);transition:var(--transition)}.menu-link[_ngcontent-%COMP%]:hover{background:var(--light)}.menu-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:var(--primary);font-size:1.1rem;margin-right:15px}.menu-label[_ngcontent-%COMP%]{flex:1;font-weight:500}.menu-arrow[_ngcontent-%COMP%]{color:var(--gray-color);transition:var(--transition)}.menu-link[_ngcontent-%COMP%]:hover   .menu-arrow[_ngcontent-%COMP%]{color:var(--primary);transform:translate(3px)}@media (min-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:row;text-align:left;padding:40px}.profile-avatar[_ngcontent-%COMP%]{margin-bottom:0;margin-right:20px}.profile-info[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.stats-grid[_ngcontent-%COMP%]{gap:20px}.stat-card[_ngcontent-%COMP%]{padding:25px}}@media (max-width: 767px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,3fr)}.menu-link[_ngcontent-%COMP%]{padding:16px}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.profile-name[_ngcontent-%COMP%]{font-size:1.4rem}.edit-profile-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:.9rem}}"]})};export{D as Profile};
