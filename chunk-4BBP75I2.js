import{a as Q}from"./chunk-WJ4M6MJK.js";import{a as L,b as j,c as h,d as A,e as G,h as D,k as z,l as B,m as Y,n as $,o as J,s as U,t as H,u as K}from"./chunk-RAVIJAHJ.js";import{g as R,h as q,k as V}from"./chunk-M7342E5H.js";import{i as k,j as T,l as I}from"./chunk-UR3PIVFL.js";import{$a as r,Ca as O,Ha as f,V as C,W as S,_a as m,ab as e,bb as _,fb as F,ib as w,kb as P,oa as M,qa as i,qb as g,sb as o,tb as N,wa as E}from"./chunk-2SFP4N2H.js";import"./chunk-EQDQRRRY.js";function X(t,l){t&1&&(r(0,"div",20)(1,"div",21),_(2,"img",22),e()())}function Z(t,l){t&1&&(r(0,"div",32),o(1," Full name is required "),e())}function ee(t,l){t&1&&(r(0,"div",32),o(1," Name must be at least 2 characters "),e())}function te(t,l){t&1&&(r(0,"div",32),o(1," Email is required "),e())}function re(t,l){t&1&&(r(0,"div",32),o(1," Please enter a valid email "),e())}function ie(t,l){t&1&&(r(0,"div",32),o(1," Phone number is required "),e())}function ne(t,l){t&1&&(r(0,"div",32),o(1," Please enter a valid phone number "),e())}function oe(t,l){if(t&1&&(r(0,"div",23)(1,"div",24)(2,"label",25),o(3,"Full Name"),e(),_(4,"input",26),f(5,Z,2,0,"div",27)(6,ee,2,0,"div",27),e(),r(7,"div",24)(8,"label",28),o(9,"Email Address"),e(),_(10,"input",29),f(11,te,2,0,"div",27)(12,re,2,0,"div",27),e(),r(13,"div",24)(14,"label",30),o(15,"Phone Number"),e(),_(16,"input",31),f(17,ie,2,0,"div",27)(18,ne,2,0,"div",27),e()()),t&2){let a,n,d,b,v,x,y,p,s,c=P();i(4),g("is-invalid",((a=c.registrationForm.get("fullName"))==null?null:a.invalid)&&((a=c.registrationForm.get("fullName"))==null?null:a.touched)),i(),m("ngIf",((n=c.registrationForm.get("fullName"))==null||n.errors==null?null:n.errors.required)&&((n=c.registrationForm.get("fullName"))==null?null:n.touched)),i(),m("ngIf",((d=c.registrationForm.get("fullName"))==null||d.errors==null?null:d.errors.minlength)&&((d=c.registrationForm.get("fullName"))==null?null:d.touched)),i(4),g("is-invalid",((b=c.registrationForm.get("email"))==null?null:b.invalid)&&((b=c.registrationForm.get("email"))==null?null:b.touched)),i(),m("ngIf",((v=c.registrationForm.get("email"))==null||v.errors==null?null:v.errors.required)&&((v=c.registrationForm.get("email"))==null?null:v.touched)),i(),m("ngIf",((x=c.registrationForm.get("email"))==null||x.errors==null?null:x.errors.email)&&((x=c.registrationForm.get("email"))==null?null:x.touched)),i(4),g("is-invalid",((y=c.registrationForm.get("phoneNumber"))==null?null:y.invalid)&&((y=c.registrationForm.get("phoneNumber"))==null?null:y.touched)),i(),m("ngIf",((p=c.registrationForm.get("phoneNumber"))==null||p.errors==null?null:p.errors.required)&&((p=c.registrationForm.get("phoneNumber"))==null?null:p.touched)),i(),m("ngIf",((s=c.registrationForm.get("phoneNumber"))==null||s.errors==null?null:s.errors.pattern)&&((s=c.registrationForm.get("phoneNumber"))==null?null:s.touched))}}function ae(t,l){if(t&1&&(r(0,"option",45),o(1),e()),t&2){let a=l.$implicit;m("value",a.name),i(),N(a.name)}}function le(t,l){t&1&&(r(0,"div",32),o(1," State is required "),e())}function se(t,l){if(t&1&&(r(0,"option",45),o(1),e()),t&2){let a=l.$implicit;m("value",a),i(),N(a)}}function me(t,l){t&1&&(r(0,"div",32),o(1," LGA is required "),e())}function de(t,l){t&1&&(r(0,"div",32),o(1," City is required "),e())}function ce(t,l){t&1&&(r(0,"div",32),o(1," Street name is required "),e())}function ue(t,l){t&1&&(r(0,"div",32),o(1," Street number is required "),e())}function ge(t,l){if(t&1&&(r(0,"div",23)(1,"div",24)(2,"label",33),o(3,"State"),e(),r(4,"select",34)(5,"option",35),o(6,"Select State"),e(),f(7,ae,2,2,"option",36),e(),f(8,le,2,0,"div",27),e(),r(9,"div",24)(10,"label",37),o(11,"LGA"),e(),r(12,"select",38)(13,"option",35),o(14,"Select LGA"),e(),f(15,se,2,2,"option",36),e(),f(16,me,2,0,"div",27),e(),r(17,"div",24)(18,"label",39),o(19,"City"),e(),_(20,"input",40),f(21,de,2,0,"div",27),e(),r(22,"div",24)(23,"label",41),o(24,"Street Name"),e(),_(25,"input",42),f(26,ce,2,0,"div",27),e(),r(27,"div",24)(28,"label",43),o(29,"Street Number"),e(),_(30,"input",44),f(31,ue,2,0,"div",27),e()()),t&2){let a,n,d,b,v,x,y,p,s,c,u=P();i(4),g("is-invalid",((a=u.registrationForm.get("state"))==null?null:a.invalid)&&((a=u.registrationForm.get("state"))==null?null:a.touched)),i(3),m("ngForOf",u.states),i(),m("ngIf",((n=u.registrationForm.get("state"))==null||n.errors==null?null:n.errors.required)&&((n=u.registrationForm.get("state"))==null?null:n.touched)),i(4),g("is-invalid",((d=u.registrationForm.get("lga"))==null?null:d.invalid)&&((d=u.registrationForm.get("lga"))==null?null:d.touched)),m("disabled",u.filteredLgas.length===0),i(3),m("ngForOf",u.filteredLgas),i(),m("ngIf",((b=u.registrationForm.get("lga"))==null||b.errors==null?null:b.errors.required)&&((b=u.registrationForm.get("lga"))==null?null:b.touched)),i(4),g("is-invalid",((v=u.registrationForm.get("city"))==null?null:v.invalid)&&((v=u.registrationForm.get("city"))==null?null:v.touched)),i(),m("ngIf",((x=u.registrationForm.get("city"))==null||x.errors==null?null:x.errors.required)&&((x=u.registrationForm.get("city"))==null?null:x.touched)),i(4),g("is-invalid",((y=u.registrationForm.get("streetName"))==null?null:y.invalid)&&((y=u.registrationForm.get("streetName"))==null?null:y.touched)),i(),m("ngIf",((p=u.registrationForm.get("streetName"))==null||p.errors==null?null:p.errors.required)&&((p=u.registrationForm.get("streetName"))==null?null:p.touched)),i(4),g("is-invalid",((s=u.registrationForm.get("streetNumber"))==null?null:s.invalid)&&((s=u.registrationForm.get("streetNumber"))==null?null:s.touched)),i(),m("ngIf",((c=u.registrationForm.get("streetNumber"))==null||c.errors==null?null:c.errors.required)&&((c=u.registrationForm.get("streetNumber"))==null?null:c.touched))}}function pe(t,l){t&1&&(r(0,"div",32),o(1," Password is required "),e())}function fe(t,l){t&1&&(r(0,"div",32),o(1," Password must be at least 6 characters "),e())}function ve(t,l){t&1&&(r(0,"div",32),o(1," Please confirm your password "),e())}function _e(t,l){t&1&&(r(0,"div",32),o(1," Passwords do not match "),e())}function he(t,l){t&1&&(r(0,"div",32),o(1," You must agree to the terms and conditions "),e())}function be(t,l){if(t&1){let a=F();r(0,"div",23)(1,"div",24)(2,"label",46),o(3,"Password"),e(),r(4,"div",47),_(5,"input",48),r(6,"button",49),w("click",function(){C(a);let d=P();return S(d.togglePasswordVisibility())}),_(7,"i",50),e()(),f(8,pe,2,0,"div",27)(9,fe,2,0,"div",27),e(),r(10,"div",24)(11,"label",51),o(12,"Confirm Password"),e(),r(13,"div",47),_(14,"input",52),r(15,"button",49),w("click",function(){C(a);let d=P();return S(d.togglePasswordVisibility())}),_(16,"i",50),e()(),f(17,ve,2,0,"div",27)(18,_e,2,0,"div",27),e(),r(19,"div",53),_(20,"input",54),r(21,"label",55),o(22," I agree to the "),r(23,"a",56),o(24,"Terms & Conditions"),e(),o(25," and "),r(26,"a",56),o(27,"Privacy Policy"),e()(),f(28,he,2,0,"div",27),e()()}if(t&2){let a,n,d,b,v,x,y,p,s=P();i(5),g("is-invalid",((a=s.registrationForm.get("password"))==null?null:a.invalid)&&((a=s.registrationForm.get("password"))==null?null:a.touched)),m("type",s.showPassword?"text":"password"),i(2),g("fa-eye",!s.showPassword)("fa-eye-slash",s.showPassword),i(),m("ngIf",((n=s.registrationForm.get("password"))==null||n.errors==null?null:n.errors.required)&&((n=s.registrationForm.get("password"))==null?null:n.touched)),i(),m("ngIf",((d=s.registrationForm.get("password"))==null||d.errors==null?null:d.errors.minlength)&&((d=s.registrationForm.get("password"))==null?null:d.touched)),i(5),g("is-invalid",(((b=s.registrationForm.get("confirmPassword"))==null?null:b.invalid)||!s.passwordsMatch())&&((b=s.registrationForm.get("confirmPassword"))==null?null:b.touched)),m("type",s.showPassword?"text":"password"),i(2),g("fa-eye",!s.showPassword)("fa-eye-slash",s.showPassword),i(),m("ngIf",((v=s.registrationForm.get("confirmPassword"))==null||v.errors==null?null:v.errors.required)&&((v=s.registrationForm.get("confirmPassword"))==null?null:v.touched)),i(),m("ngIf",!s.passwordsMatch()&&((x=s.registrationForm.get("confirmPassword"))==null?null:x.touched)),i(2),g("is-invalid",((y=s.registrationForm.get("agreeToTerms"))==null?null:y.invalid)&&((y=s.registrationForm.get("agreeToTerms"))==null?null:y.touched)),i(8),m("ngIf",((p=s.registrationForm.get("agreeToTerms"))==null||p.errors==null?null:p.errors.required)&&((p=s.registrationForm.get("agreeToTerms"))==null?null:p.touched))}}function xe(t,l){if(t&1){let a=F();r(0,"button",57),w("click",function(){C(a);let d=P();return S(d.previousStep())}),o(1," Previous "),e()}}function ye(t,l){if(t&1){let a=F();r(0,"button",58),w("click",function(){C(a);let d=P();return S(d.nextStep())}),o(1," Next "),e()}}function Pe(t,l){if(t&1&&(r(0,"button",59),o(1," Done "),e()),t&2){let a=P();m("disabled",!a.registrationForm.valid)}}var W=class t{constructor(l,a){this.fb=l;this.router=a;this.registrationForm=this.fb.group({fullName:["",[h.required,h.minLength(2)]],email:["",[h.required,h.email]],phoneNumber:["",[h.required,h.pattern(/^\+?[\d\s-()]+$/)]],state:["",h.required],city:["",h.required],lga:["",h.required],streetName:["",h.required],streetNumber:["",h.required],password:["",[h.required,h.minLength(6)]],confirmPassword:["",h.required],agreeToTerms:[!1,h.requiredTrue]})}currentStep=1;totalSteps=3;isLoading=!1;errorMessage="";showPassword=!1;states=Q;filteredLgas=[];registrationForm;carouselImages=["/images/car-meal-1.jpg","/images/car-store-1.jpg","/images/car-meal-2.jpg","/images/cart.jpg"];currentImageIndex=0;ngOnInit(){this.startCarousel(),this.registrationForm.get("state")?.valueChanges.subscribe(l=>{let a=this.states.find(n=>n.name===l);this.filteredLgas=a?a.lgas:[],this.registrationForm.get("lga")?.setValue("")})}startCarousel(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.carouselImages.length},4e3)}nextStep(){this.validateCurrentStep()&&this.currentStep++}previousStep(){this.currentStep--}validateCurrentStep(){let l=this.getCurrentStepControls();return l.forEach(a=>{this.registrationForm.get(a)?.markAsTouched()}),l.every(a=>this.registrationForm.get(a)?.valid)}getCurrentStepControls(){switch(this.currentStep){case 1:return["fullName","email","phoneNumber"];case 2:return["state","city","lga","streetName","streetNumber"];case 3:return["password","confirmPassword","agreeToTerms"];default:return[]}}onSubmit(){this.registrationForm.valid?(this.isLoading=!0,this.errorMessage="",setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/"])},2500)):(this.errorMessage="Please fill in all required fields correctly.",this.markFormGroupTouched())}markFormGroupTouched(){Object.keys(this.registrationForm.controls).forEach(l=>{this.registrationForm.get(l)?.markAsTouched()})}passwordsMatch(){let l=this.registrationForm.get("password")?.value,a=this.registrationForm.get("confirmPassword")?.value;return l===a}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(a){return new(a||t)(E(U),E(R))};static \u0275cmp=O({type:t,selectors:[["app-registration"]],decls:35,vars:26,consts:[["class","loading-overlay",4,"ngIf"],[1,"registration-container"],[1,"registration-card"],[1,"carousel-section"],[1,"carousel-container"],[1,"carousel-image",3,"src","alt"],[1,"carousel-overlay"],[1,"form-section"],[1,"form-header"],[1,"step-indicator"],[1,"step"],[1,"step-line"],[1,"registration-form",3,"ngSubmit","formGroup"],["class","form-step",4,"ngIf"],[1,"form-navigation"],["type","button","class","btn btn-outline",3,"click",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary","id","submit",3,"disabled",4,"ngIf"],[1,"back-to-login"],["routerLink","/login",1,"back-link"],[1,"loading-overlay"],[1,"logo-beat"],["src","/images/picksncarts.png","alt","PicksNCarts Logo"],[1,"form-step"],[1,"form-group"],["for","fullName"],["type","text","id","fullName","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","phoneNumber"],["type","tel","id","phoneNumber","formControlName","phoneNumber","placeholder","Enter your phone number",1,"form-control"],[1,"invalid-feedback"],["for","state"],["id","state","formControlName","state",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","lga"],["id","lga","formControlName","lga",1,"form-control",3,"disabled"],["for","city"],["type","text","id","city","formControlName","city","placeholder","Enter your city",1,"form-control"],["for","streetName"],["type","text","id","streetName","formControlName","streetName","placeholder","Enter street name",1,"form-control"],["for","streetNumber"],["type","text","id","streetNumber","formControlName","streetNumber","placeholder","Enter street number",1,"form-control"],[3,"value"],["for","password"],[1,"password-container"],["id","password","formControlName","password","placeholder","Create a password",1,"form-control",3,"type"],["type","button",1,"password-toggle",3,"click"],[1,"fas"],["for","confirmPassword"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control",3,"type"],[1,"form-check"],["type","checkbox","id","agreeToTerms","formControlName","agreeToTerms",1,"form-check-input"],["for","agreeToTerms",1,"form-check-label"],["routerLink","#",1,"terms-link"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit","id","submit",1,"btn","btn-primary",3,"disabled"]],template:function(a,n){a&1&&(f(0,X,3,0,"div",0),r(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_(5,"img",5),r(6,"div",6)(7,"h2"),o(8,"Join Our Community"),e(),r(9,"p"),o(10,"Discover amazing surplus meals, groceries, pastries and essentials."),e()()()(),r(11,"div",7)(12,"div",8)(13,"h2"),o(14,"Create Your Account"),e(),r(15,"div",9)(16,"span",10),o(17,"1"),e(),_(18,"span",11),r(19,"span",10),o(20,"2"),e(),_(21,"span",11),r(22,"span",10),o(23,"3"),e()()(),r(24,"form",12),w("ngSubmit",function(){return n.onSubmit()}),f(25,oe,19,12,"div",13)(26,ge,32,18,"div",13)(27,be,29,21,"div",13),r(28,"div",14),f(29,xe,2,0,"button",15)(30,ye,2,0,"button",16)(31,Pe,2,1,"button",17),e(),r(32,"div",18)(33,"a",19),o(34,"I have an account"),e()()()()()()),a&2&&(m("ngIf",n.isLoading),i(5),m("src",n.carouselImages[n.currentImageIndex],M)("alt","Food image "+(n.currentImageIndex+1)),i(11),g("active",n.currentStep===1)("completed",n.currentStep>1),i(2),g("completed",n.currentStep>1),i(),g("active",n.currentStep===2)("completed",n.currentStep>2),i(2),g("completed",n.currentStep>2),i(),g("active",n.currentStep===3)("completed",n.currentStep>3),i(2),m("formGroup",n.registrationForm),i(),m("ngIf",n.currentStep===1),i(),m("ngIf",n.currentStep===2),i(),m("ngIf",n.currentStep===3),i(2),m("ngIf",n.currentStep>1),i(),m("ngIf",n.currentStep<n.totalSteps),i(),m("ngIf",n.currentStep===n.totalSteps))},dependencies:[I,k,T,H,D,$,J,j,L,Y,A,G,K,z,B,V,q],styles:['[_ngcontent-%COMP%]:root{--primary: #2E7D32;--primary-dark: #1B5E20;--secondary: #66BB6A;--lighter: #ffffff;--dark: #333333;--border: #cccccc;--success: #4CAF50;--radius: 12px;--shadow: 0 4px 12px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 25px rgba(0, 0, 0, .2);--transition: all .3s ease}.registration-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;position:relative;overflow:hidden}.registration-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url(/images/merchants.avif) center/cover;filter:blur(10px);z-index:-1}.registration-card[_ngcontent-%COMP%]{background:#ffffffe6;border-radius:var(--radius);box-shadow:var(--shadow-lg);overflow:hidden;max-width:1000px;width:100%;display:flex;height:600px;min-height:600px}.carousel-section[_ngcontent-%COMP%]{flex:1;position:relative;background:var(--dark);height:100%;overflow:hidden}.carousel-container[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden}.carousel-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:opacity .5s ease-in-out}.carousel-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,#000);color:var(--light);padding:2rem;line-height:1;text-align:center}.carousel-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem}.carousel-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9;margin:0;font-size:.8rem;letter-spacing:1.4px}.form-section[_ngcontent-%COMP%]{flex:1;padding:2.5rem;display:flex;flex-direction:column}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary);font-weight:700;margin-bottom:1.5rem}.step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.step[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;background:var(--border);color:var(--dark);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.9rem;transition:var(--transition)}.step.active[_ngcontent-%COMP%]{background:var(--primary);color:var(--lighter)}.step.completed[_ngcontent-%COMP%]{background:var(--success);color:var(--lighter)}.step-line[_ngcontent-%COMP%]{flex:1;height:2px;background:var(--border);max-width:50px;transition:var(--transition)}.step-line.completed[_ngcontent-%COMP%]{background:var(--success)}.registration-form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.form-step[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:auto;padding-top:2rem}.btn[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:var(--transition);text-decoration:none;display:inline-block;text-align:center}.btn-primary[_ngcontent-%COMP%]{background:var(--primary);color:var(--lighter)}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-dark);transform:translateY(-1px);box-shadow:var(--shadow)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:var(--primary);border:2px solid var(--primary)}.btn-outline[_ngcontent-%COMP%]:hover{background:var(--accent)}.terms-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none}.terms-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{position:relative}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:#fff3;border:none;color:var(--primary);cursor:pointer;padding:8px;border-radius:6px;transition:var(--transition);width:36px;height:36px;display:flex;align-items:center;justify-content:center}.password-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-50%) scale(1.05)}.password-toggle[_ngcontent-%COMP%]:active{transform:translateY(-50%) scale(.95)}.back-to-login[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.back-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:600;letter-spacing:1px}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.registration-card[_ngcontent-%COMP%]{flex-direction:column;max-width:500px;height:auto;min-height:0}.carousel-section[_ngcontent-%COMP%]{height:200px;flex:none}.form-section[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.carousel-overlay[_ngcontent-%COMP%]{padding:1rem}.carousel-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.registration-container[_ngcontent-%COMP%]{padding:1rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem}.form-control[_ngcontent-%COMP%]{width:100%}}']})};export{W as Registration};
