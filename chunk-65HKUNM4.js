import{a as V}from"./chunk-JCKFSXJE.js";import{b as S,c as b,d as E,e as F,h as z,k as T,l as R,s as I,u as N}from"./chunk-RAVIJAHJ.js";import{g as O,h as k,k as y}from"./chunk-M7342E5H.js";import{l as M}from"./chunk-UR3PIVFL.js";import{$a as t,Ca as P,Ua as d,V as f,Va as g,W as u,_a as x,ab as e,bb as a,fb as h,ib as p,kb as m,qa as l,qb as v,sb as n,tb as w,ub as C,wa as _}from"./chunk-2SFP4N2H.js";import"./chunk-EQDQRRRY.js";function j(o,s){o&1&&(a(0,"i",34),n(1," Sending... "))}function G(o,s){if(o&1&&n(0),o&2){let i=m(2);C(" Resend in ",i.countdown,"s ")}}function B(o,s){o&1&&(a(0,"i",35),n(1," Resend Email "))}function D(o,s){if(o&1){let i=h();t(0,"div",20)(1,"div",22),a(2,"i",23),e(),t(3,"h2",24),n(4,"Check Your Email"),e(),t(5,"p",25),n(6," We've sent a password reset link to:"),a(7,"br"),t(8,"strong"),n(9),e()(),t(10,"div",26)(11,"h3"),n(12,"What's Next?"),e(),t(13,"ol")(14,"li"),n(15,"Open the email from PicksnCarts"),e(),t(16,"li"),n(17,'Click the "Reset Password" button'),e(),t(18,"li"),n(19,"Create your new password"),e()()(),t(20,"div",27)(21,"button",28),p("click",function(){f(i);let c=m();return u(c.resendEmail())}),d(22,j,2,0)(23,G,1,1)(24,B,2,0),e(),t(25,"button",29),p("click",function(){f(i);let c=m();return u(c.navigateToLogin())}),a(26,"i",30),n(27," Back to Login "),e()(),t(28,"div",31)(29,"p"),a(30,"i",32),n(31," Didn't receive the email? "),t(32,"a",33),n(33," Contact Support "),e()()()()}if(o&2){let i,r=m();l(9),w((i=r.forgotPasswordForm.get("email"))==null?null:i.value),l(12),x("disabled",r.isSubmitting||r.countdown>0),l(),g(r.isSubmitting?22:r.countdown>0?23:24)}}function q(o,s){if(o&1&&(t(0,"div",44),n(1),e()),o&2){let i=m(2);l(),C(" ",i.getFieldError("email")," ")}}function Y(o,s){o&1&&(t(0,"span"),a(1,"i",49),n(2," Send Reset Link "),e())}function U(o,s){o&1&&(t(0,"span"),a(1,"i",34),n(2," Sending... "),e())}function A(o,s){if(o&1){let i=h();t(0,"div",21)(1,"h2",36),n(2,"Forgot Password?"),e(),t(3,"p",37),n(4,"No worries, we'll help you reset it"),e(),t(5,"form",38),p("ngSubmit",function(){f(i);let c=m();return u(c.onSubmit())}),t(6,"div",39)(7,"label",40),n(8,"Email Address *"),e(),t(9,"div",41)(10,"span",42),a(11,"i",14),e(),a(12,"input",43),e(),d(13,q,2,1,"div",44),e(),t(14,"button",45),d(15,Y,3,0,"span")(16,U,3,0,"span"),e()(),t(17,"div",46)(18,"p"),n(19," Remember your password? "),t(20,"a",47),n(21,"Back to Login"),e()(),t(22,"p"),n(23," Need help? "),t(24,"a",48),n(25,"Contact Support"),e()()()()}if(o&2){let i,r=m();l(5),x("formGroup",r.forgotPasswordForm),l(7),v("is-invalid",((i=r.forgotPasswordForm.get("email"))==null?null:i.invalid)&&((i=r.forgotPasswordForm.get("email"))==null?null:i.touched)),l(),g(r.getFieldError("email")?13:-1),l(),x("disabled",r.isSubmitting),l(),g(r.isSubmitting?16:15)}}var L=class o{constructor(s,i,r){this.fb=s;this.toastService=i;this.router=r;this.forgotPasswordForm=this.fb.group({email:["",[b.required,b.email]]})}forgotPasswordForm;isSubmitting=!1;isEmailSent=!1;countdown=0;onSubmit(){this.forgotPasswordForm.valid&&!this.isSubmitting?(this.isSubmitting=!0,setTimeout(()=>{console.log("Password reset requested for:",this.forgotPasswordForm.value.email),this.isEmailSent=!0,this.isSubmitting=!1,this.startCountdown(),this.toastService.success("Password reset link sent to your email!")},1500)):(this.markFormGroupTouched(),this.forgotPasswordForm.get("email")?.errors?.email?this.toastService.warning("Please enter a valid email address."):this.toastService.warning("Please enter your email address."))}startCountdown(){this.countdown=30;let s=setInterval(()=>{this.countdown--,this.countdown<=0&&clearInterval(s)},1e3)}resendEmail(){this.countdown>0||(this.isSubmitting=!0,setTimeout(()=>{this.isSubmitting=!1,this.startCountdown(),this.toastService.success("Reset link sent again!")},1e3))}markFormGroupTouched(){Object.keys(this.forgotPasswordForm.controls).forEach(s=>{this.forgotPasswordForm.get(s)?.markAsTouched()})}getFieldError(s){let i=this.forgotPasswordForm.get(s);if(i?.errors&&i.touched){if(i.errors.required)return"This field is required";if(i.errors.email)return"Please enter a valid email address"}return""}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||o)(_(I),_(V),_(O))};static \u0275cmp=P({type:o,selectors:[["app-forget-pass"]],decls:39,vars:2,consts:[[1,"forgot-password-page"],[1,"container"],[1,"back-nav"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"forgot-password-content"],[1,"forgot-password-left"],[1,"illustration-container"],[1,"illustration"],[1,"fas","fa-key"],[1,"info-section"],[1,"security-tips"],[1,"fas","fa-shield-check"],[1,"fas","fa-clock"],[1,"fas","fa-envelope"],[1,"forgot-password-right"],[1,"form-container"],[1,"logo-section"],[1,"logo"],["src","/images/picksncarts.png","height","40px","alt",""],[1,"success-state"],[1,"form-state"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"success-title"],[1,"success-message"],[1,"instructions"],[1,"action-buttons"],[1,"btn","btn-primary","resend-btn",3,"click","disabled"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-sign-in-alt","me-2"],[1,"support-note"],[1,"fas","fa-question-circle","me-2"],["href","mailto:support@picksncarts.com",1,"support-link"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"fas","fa-redo","me-2"],[1,"form-title"],[1,"form-subtitle"],[1,"forgot-password-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label"],[1,"input-group"],[1,"input-icon"],["type","email","id","email","formControlName","email","placeholder","Enter your email address","autocomplete","email",1,"form-control"],[1,"invalid-feedback"],["type","submit",1,"submit-btn","btn","btn-primary",3,"disabled"],[1,"help-links"],["routerLink","/login",1,"login-link"],["routerLink","/contact-us",1,"help-link"],[1,"fas","fa-paper-plane","me-2"]],template:function(i,r){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),p("click",function(){return r.navigateToLogin()}),a(4,"i",4),n(5," Back to Login "),e()(),t(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),a(10,"i",9),e()(),t(11,"div",10)(12,"h2"),n(13,"Reset Your Password"),e(),t(14,"p"),n(15,"Enter your email address and we'll send you a link to reset your password."),e(),t(16,"div",11)(17,"h3"),n(18,"Security Tips:"),e(),t(19,"ul")(20,"li"),a(21,"i",12),t(22,"span"),n(23,"Check your spam folder if you don't see the email"),e()(),t(24,"li"),a(25,"i",13),t(26,"span"),n(27,"Reset links expire after 1 hour for security"),e()(),t(28,"li"),a(29,"i",14),t(30,"span"),n(31,"Use the same email you registered with"),e()()()()()(),t(32,"div",15)(33,"div",16)(34,"div",17)(35,"div",18),a(36,"img",19),e()(),d(37,D,34,3,"div",20),d(38,A,26,6,"div",21),e()()()()()),i&2&&(l(37),g(r.isEmailSent?37:-1),l(),g(r.isEmailSent?-1:38))},dependencies:[M,N,z,S,E,F,T,R,y,k],styles:[".forgot-password-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--light) 0%,#f0fdf4 100%);display:flex;align-items:center;padding:1rem}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%}.back-nav[_ngcontent-%COMP%]{margin-bottom:1.5rem}.back-btn[_ngcontent-%COMP%]{background:none;border:1px solid var(--border);color:var(--dark);padding:.75rem 1rem;border-radius:var(--radius);cursor:pointer;transition:var(--transition);display:inline-flex;align-items:center;gap:.5rem;font-size:.9rem}.back-btn[_ngcontent-%COMP%]:hover{background:var(--light);border-color:var(--primary);color:var(--primary)}.forgot-password-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;background:#fff;border-radius:16px;box-shadow:0 10px 25px #0000001a;overflow:hidden;min-height:600px}.forgot-password-left[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);color:#fff;padding:2rem;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.illustration-container[_ngcontent-%COMP%]{margin-bottom:2rem}.illustration[_ngcontent-%COMP%]{width:120px;height:120px;background:#ffffff1a;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:3rem;margin:0 auto 1.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem;font-weight:600}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.9;line-height:1.6;margin-bottom:2rem}.security-tips[_ngcontent-%COMP%]{text-align:left;max-width:400px}.security-tips[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;font-weight:600}.security-tips[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.security-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;margin-bottom:1rem;font-size:.9rem;line-height:1.4}.security-tips[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--food-yellow);margin-top:.1rem;flex-shrink:0}.forgot-password-right[_ngcontent-%COMP%]{padding:2rem;display:flex;align-items:center;justify-content:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:400px}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.logo[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,var(--primary),var(--secondary));border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;margin:0 auto 1rem}.brand-name[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--dark);margin:0}.form-state[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.form-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--dark);margin-bottom:.5rem;text-align:center}.form-subtitle[_ngcontent-%COMP%]{color:#6b7280;text-align:center;margin-bottom:2rem;line-height:1.5}.forgot-password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--dark);margin-bottom:.5rem;font-size:.9rem}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#6b7280;z-index:2}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem .75rem 2.5rem;border:1px solid var(--border);border-radius:var(--radius);font-size:1rem;transition:var(--transition);background:var(--lighter);width:100%;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #1a5d541a;background:#fff}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger)}.invalid-feedback[_ngcontent-%COMP%]{color:var(--danger);font-size:.8rem;margin-top:.25rem}.submit-btn[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.1rem;font-weight:600;border:none;border-radius:var(--radius);transition:var(--transition);margin-top:.5rem;width:100%}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.help-links[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border)}.help-links[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#6b7280;font-size:.9rem}.login-link[_ngcontent-%COMP%], .help-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:600}.login-link[_ngcontent-%COMP%]:hover, .help-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.success-state[_ngcontent-%COMP%]{text-align:center;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.success-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,var(--success),#10b981);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:2rem;margin:0 auto 1.5rem}.success-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--dark);margin-bottom:1rem}.success-message[_ngcontent-%COMP%]{color:#6b7280;line-height:1.6;margin-bottom:2rem}.instructions[_ngcontent-%COMP%]{background:var(--light);padding:1.5rem;border-radius:var(--radius);margin-bottom:2rem;text-align:left}.instructions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--dark);margin-bottom:1rem}.instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding-left:1.2rem;color:#6b7280}.instructions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1.5}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.resend-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.support-note[_ngcontent-%COMP%]{padding-top:1.5rem;border-top:1px solid var(--border)}.support-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem;margin:0}.support-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:600}.support-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (min-width: 768px){.forgot-password-page[_ngcontent-%COMP%]{padding:2rem}.forgot-password-content[_ngcontent-%COMP%]{flex-direction:row;min-height:700px}.forgot-password-left[_ngcontent-%COMP%], .forgot-password-right[_ngcontent-%COMP%]{flex:1;padding:3rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:row}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}}@media (min-width: 1024px){.forgot-password-left[_ngcontent-%COMP%]{flex:1.2}.forgot-password-right[_ngcontent-%COMP%]{flex:.8}}@media (max-width: 767px){.forgot-password-page[_ngcontent-%COMP%]{padding:.5rem}.forgot-password-left[_ngcontent-%COMP%], .forgot-password-right[_ngcontent-%COMP%]{padding:1.5rem}.illustration[_ngcontent-%COMP%]{width:100px;height:100px;font-size:2.5rem}.info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}.success-title[_ngcontent-%COMP%]{font-size:1.3rem}.instructions[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.forgot-password-left[_ngcontent-%COMP%], .forgot-password-right[_ngcontent-%COMP%]{padding:1rem}.illustration[_ngcontent-%COMP%]{width:80px;height:80px;font-size:2rem}.logo[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.25rem}.brand-name[_ngcontent-%COMP%]{font-size:1.5rem}.security-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85rem}}"]})};export{L as ForgetPass};
