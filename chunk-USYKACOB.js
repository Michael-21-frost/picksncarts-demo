import{a as G}from"./chunk-EVM453XZ.js";import{a as D}from"./chunk-JCKFSXJE.js";import{b as F,c as f,d as E,e as L,h as T,k as j,l as N,s as z,t as I,u as R}from"./chunk-RAVIJAHJ.js";import{g as y,h as O,k as S}from"./chunk-M7342E5H.js";import{l as M}from"./chunk-UR3PIVFL.js";import{$a as t,Ca as C,Ua as s,Va as d,_a as _,ab as o,bb as g,ib as x,kb as P,qa as a,qb as w,sb as r,ub as k,wa as p}from"./chunk-2SFP4N2H.js";import"./chunk-EQDQRRRY.js";function V(n,i){n&1&&(t(0,"div",0)(1,"div",27),g(2,"img",28),o()())}function B(n,i){n&1&&(t(0,"div",10),r(1," Email is required "),o())}function Y(n,i){n&1&&(t(0,"div",10),r(1," Please enter a valid email "),o())}function A(n,i){n&1&&(t(0,"div",10),r(1," Password is required "),o())}function U(n,i){n&1&&(t(0,"div",10),r(1," Password must be at least 6 characters "),o())}function H(n,i){if(n&1&&(t(0,"div",21),r(1),o()),n&2){let l=P();a(),k(" ",l.errorMessage," ")}}function W(n,i){n&1&&(t(0,"span"),r(1,"Sign In"),o())}function J(n,i){n&1&&(t(0,"span"),r(1,"Signing In..."),o())}var q=class n{constructor(i,l,e,c){this.fb=i;this.router=l;this.userService=e;this.toastService=c;this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required,f.minLength(6)]]})}loginForm;isLoading=!1;errorMessage="";showPassword=!1;onSubmit(){this.loginForm.valid?(this.isLoading=!0,this.errorMessage="",setTimeout(()=>{let{email:i,password:l}=this.loginForm.value,e=this.userService.login(i,l);this.isLoading=!1,e.success?(this.toastService.success("Welcome back!",2e3),this.router.navigate(["/home"])):this.errorMessage=e.message||"Login failed"},1500)):this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.loginForm.controls).forEach(i=>{this.loginForm.get(i)?.markAsTouched()})}togglePasswordVisibility(){this.showPassword=!this.showPassword;let i=document.getElementById("password");i&&(i.type=this.showPassword?"text":"password")}navigateToRegister(){this.router.navigate(["/register"])}navigateToForgotPassword(i){i.preventDefault(),this.router.navigate(["/forgot-password"])}static \u0275fac=function(l){return new(l||n)(p(z),p(y),p(G),p(D))};static \u0275cmp=C({type:n,selectors:[["app-login"]],decls:43,vars:19,consts:[[1,"loading-overlay"],[1,"login-container"],[1,"background-image"],[1,"glass-card"],[1,"card-header"],["src","/images/picks.png","alt","PicksNCarts Logo",1,"logo-image"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],[1,"invalid-feedback"],["for","password"],[1,"password-container"],["id","password","formControlName","password","placeholder","Enter your password",1,"form-control",3,"type"],["type","button",1,"password-toggle",3,"click"],[1,"fas"],[1,"form-options"],[1,"form-check"],["type","checkbox","id","remember",1,"form-check-input"],["for","remember",1,"form-check-label"],["href","#",1,"forgot-link",3,"click"],[1,"error-message"],["type","submit",1,"btn","btn-login",3,"disabled"],[1,"card-footer"],["routerLink","/register",1,"register-link"],[1,"legal-links"],["href","/privacy-policy",1,"legal-link"],[1,"logo-beat"],["src","/images/picksncarts.png","alt","PicksNCarts Logo"]],template:function(l,e){if(l&1&&(s(0,V,3,0,"div",0),t(1,"div",1),g(2,"div",2),t(3,"div",3)(4,"div",4),g(5,"img",5),t(6,"p"),r(7,"Sign in to your account"),o()(),t(8,"form",6),x("ngSubmit",function(){return e.onSubmit()}),t(9,"div",7)(10,"label",8),r(11,"Email Address"),o(),g(12,"input",9),s(13,B,2,0,"div",10),s(14,Y,2,0,"div",10),o(),t(15,"div",7)(16,"label",11),r(17,"Password"),o(),t(18,"div",12),g(19,"input",13),t(20,"button",14),x("click",function(){return e.togglePasswordVisibility()}),g(21,"i",15),o()(),s(22,A,2,0,"div",10),s(23,U,2,0,"div",10),o(),t(24,"div",16)(25,"div",17),g(26,"input",18),t(27,"label",19),r(28,"Remember me"),o()(),t(29,"a",20),x("click",function(m){return e.navigateToForgotPassword(m)}),r(30,"Forgot Password?"),o()(),s(31,H,2,1,"div",21),t(32,"button",22),s(33,W,2,0,"span"),s(34,J,2,0,"span"),o()(),t(35,"div",23)(36,"p"),r(37,"Don't have an account? "),t(38,"a",24),r(39,"Register as New Shopper"),o()(),t(40,"div",25)(41,"a",26),r(42,"Privacy Policy"),o()()()()()),l&2){let c,m,u,b,h,v;d(e.isLoading?0:-1),a(8),_("formGroup",e.loginForm),a(4),w("is-invalid",((c=e.loginForm.get("email"))==null?null:c.invalid)&&((c=e.loginForm.get("email"))==null?null:c.touched)),a(),d((m=e.loginForm.get("email"))!=null&&m.hasError("required")&&((m=e.loginForm.get("email"))!=null&&m.touched)?13:-1),a(),d((u=e.loginForm.get("email"))!=null&&u.hasError("email")&&((u=e.loginForm.get("email"))!=null&&u.touched)?14:-1),a(5),w("is-invalid",((b=e.loginForm.get("password"))==null?null:b.invalid)&&((b=e.loginForm.get("password"))==null?null:b.touched)),_("type",e.showPassword?"text":"password"),a(2),w("fa-eye",!e.showPassword)("fa-eye-slash",e.showPassword),a(),d((h=e.loginForm.get("password"))!=null&&h.hasError("required")&&((h=e.loginForm.get("password"))!=null&&h.touched)?22:-1),a(),d((v=e.loginForm.get("password"))!=null&&v.hasError("minlength")&&((v=e.loginForm.get("password"))!=null&&v.touched)?23:-1),a(8),d(e.errorMessage?31:-1),a(),_("disabled",e.isLoading),a(),d(e.isLoading?-1:33),a(),d(e.isLoading?34:-1)}},dependencies:[M,I,T,F,E,L,S,O,R,j,N],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1rem;position:relative;overflow:hidden}.background-image[_ngcontent-%COMP%]{position:absolute;inset:0;background:url(/images/jollof1.jpg) center/cover;z-index:-1}.glass-card[_ngcontent-%COMP%]{background:#0003;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-radius:20px;padding:2.5rem;width:100%;max-width:440px;margin:0 auto;box-shadow:0 25px 50px #00000080,0 0 0 1px #fff3,inset 0 1px #ffffff1a;border:1px solid rgba(255,255,255,.3);position:relative;overflow:hidden;color:#f5f5f5}.logo-image[_ngcontent-%COMP%]{display:block;margin:0 auto 1rem;width:100%;height:60px}.glass-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#0006,#0000001a);z-index:-1}.card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e0e0e0;margin:-6% 0 0;font-size:1rem;text-shadow:0 1px 5px rgba(0,0,0,.4)}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#fff;font-weight:600;text-shadow:0 1px 5px rgba(0,0,0,.5)}.form-control[_ngcontent-%COMP%]{width:100%;padding:1rem 1.25rem;border:2px solid rgba(255,255,255,.3);border-radius:12px;font-size:1rem;transition:var(--transition);background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;caret-color:var(--primary)}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#fff3;box-shadow:0 0 0 4px #1a5d5433}.form-control[_ngcontent-%COMP%]::placeholder{color:#ccc}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#ef4444cc;background:#ef44441a}.password-container[_ngcontent-%COMP%]{position:relative}.password-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-right:50px}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:transparent!important;border:none;color:#fff;cursor:pointer;padding:8px;border-radius:6px;transition:var(--transition);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);width:36px;height:36px;display:flex;align-items:center;justify-content:center}.password-toggle[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-50%) scale(1.05)}.password-toggle[_ngcontent-%COMP%]:active{transform:translateY(-50%) scale(.95)}.invalid-feedback[_ngcontent-%COMP%]{display:block;color:#fcc;font-size:.875rem;margin-top:.5rem;text-shadow:0 1px 3px rgba(0,0,0,.5);font-weight:500}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.form-check[_ngcontent-%COMP%]{display:flex;align-items:center}.form-check-input[_ngcontent-%COMP%]{margin-right:.5rem;accent-color:var(--primary)}.form-check-label[_ngcontent-%COMP%]{color:#e0e0e0;font-size:.9rem;font-weight:500;text-shadow:0 1px 3px rgba(0,0,0,.5)}.forgot-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-size:.9rem;font-weight:600;transition:var(--transition);text-shadow:0 1px 3px rgba(0,0,0,.5)}.forgot-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#ef444433;color:#fcc;padding:1rem;border-radius:12px;margin-bottom:1.5rem;text-align:center;border-left:4px solid rgba(239,68,68,.6);font-weight:500;text-shadow:0 1px 3px rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-login[_ngcontent-%COMP%]{width:100%;padding:1rem;background:var(--primary);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid var(--primary-dark);border-radius:12px;color:#fff;font-size:1rem;font-weight:600;transition:var(--transition);margin-bottom:1.5rem;text-shadow:0 1px 3px rgba(0,0,0,.5)}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-dark);border-color:var(--primary);transform:translateY(-2px);box-shadow:0 8px 25px #0000004d}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.card-footer[_ngcontent-%COMP%]{text-align:center;border-top:1px solid rgba(255,255,255,.2);padding-top:1.5rem}.card-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e0e0e0;margin-bottom:1rem;text-shadow:0 1px 3px rgba(0,0,0,.5)}.register-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:600;transition:var(--transition);text-shadow:0 1px 3px rgba(0,0,0,.5)}.register-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark);text-decoration:underline}.legal-links[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;font-size:.875rem}.legal-link[_ngcontent-%COMP%]{color:#ccc;text-decoration:none;transition:var(--transition);text-shadow:0 1px 3px rgba(0,0,0,.5)}.legal-link[_ngcontent-%COMP%]:hover{color:#e0e0e0;text-decoration:underline}.separator[_ngcontent-%COMP%]{color:#999}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:9999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.logo-beat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_beat 1.5s ease-in-out infinite}.logo-beat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%}@keyframes _ngcontent-%COMP%_beat{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:.5rem}.glass-card[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:16px}.form-options[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.legal-links[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.separator[_ngcontent-%COMP%]{display:none}.logo-image[_ngcontent-%COMP%]{display:block;margin:0 auto 1rem;width:100%;height:40px}.form-control[_ngcontent-%COMP%], .btn-login[_ngcontent-%COMP%]{height:50px}}']})};export{q as Login};
